{% extends 'base.html' %}
{% import 'headerContent.html' as hc %}
{% block title %}
    <title>ltt-to-spotify: playlists</title>
    <meta name="description" content="Adding functionality between r/listentothis and Spotify">
{% endblock %}
{% block scripts %}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js" defer></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/dragula/3.7.2/dragula.min.js' defer></script>
    <script src="/static/min/lscache.min.js" defer></script>
    <script src='/static/javascript/ltt.js' defer></script>
{% endblock %}
{% block stylesheet %}
    <link rel="stylesheet" href="/static/css/playlist.css" />
{% endblock %}
{% block headerContent %}
    {{ hc.addHeaderContent("playlists") }}
{% endblock %}

{% block content %}
    {% for playlist in playlists %}
        <div class="playlist-container" id="{{ playlist['id'] }}">
            <div class="playlist-img-holder">
                <div class="playlist-img"  style="background-image:url('{{ playlist['images'][0]['url'] }}')"></div>
                <div class="playlist-overlay playlist-overlay-name">{{ playlist['name'] }}</div>
                <div class="playlist-overlay playlist-overlay-owner">{{ playlist['owner']['name'] }}</div>
                <div class="playlist-overlay playlist-overlay-a">
                    <div class="overlay-container">X: {{ playlist['tracks']['total'] }}</div>
                    <div class="overlay-container">
                        {% if 'followers' in playlist %}
                            Y: {{ playlist['followers']|length }}
                        {% else %}
                            Y: -
                        {% endif %}
                    </div>
                </div>
                <div class="playlist-overlay playlist-overlay-b">
                    {% if 'totalLength' in playlist %}
                        Z: {{ playlist['totalLength'] }}
                    {% else %}
                        Z: -
                    {% endif %}
                </div>
            </div>
            <div class="playlist-footer">{{ playlist['name'] }}</div>
        </div>
    {% endfor %}
{% endblock %}